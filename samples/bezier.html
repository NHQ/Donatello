<!doctype html>
<html>
<head>
	<script src="../donatello.js" type="text/javascript"></script>
	<script>
		function main() {
			var colors = [ 
				'#71717', '#A71717', '#8AA717', '#34A717', '#17A751', '#17A7A7', '#1751A7', '#3417A7' 
			];
			var paper = Donatello.paper('paper-div', 20, 20, 500, 500 );
			
			// endpoints and control point
			var p1 = { x: 50, y: 300 };
			var p2 = { x: 300, y: 50 };
			var cp = { x: 50, y: 50 };

			var points = [];
			points.push( p1 );

			// resolution determines number of line semgents used 
			// to approximate the curve
			var res = 5;

			for( var i=0; i < res; i ++ ) {
				// points on the polygon 
				var p1i = { x: ((cp.x-p1.x)/res*i)+p1.x, y: ((cp.y-p1.y)/res*i)+p1.y };
				var p2i = { x: ((p2.x-cp.x)/res*i)+p2.x, y: ((p2.y-cp.y)/res*i)+p2.y };

				console.log( p1i );
				console.log( p2i );

				// points on the curve
				points.push( { x: ((p2i.x-p1i.x)/res*i)+p1.x, y: ((p2i.y-p1i.y)/res*i)+p1.y } );

			}
			console.log( points );
			points.push( p2 );

			// draw line segments between points on the curve
			for( var i=0; i < points.length-1; i ++ ) {
				var line = paper.line( 
					points[i].x, points[i].y, 
					points[i+1].x - points[i].x, 
					points[i+1].y - points[i].y, 
				 { 
					'stroke-width': 1,
					'stroke': colors[i%8],
					'stroke-style': 'solid'
				});
			}
		}
	</script>
	<style>
		#paper-div {
			border: 1px solid black
		}
	</style>

</head>
<body onload='main();'>
	<div id="paper-div">
	</div>
</body>
</html>
